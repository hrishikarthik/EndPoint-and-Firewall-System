import time
import os
import sys

# Rename the current process (this makes it detectable via name)
if os.name == 'nt':
    import ctypes
    ctypes.windll.kernel32.SetConsoleTitleW("malware.exe")
else:
    # On Unix-like systems, simulate using argv[0]
    sys.argv[0] = "malware.exe"

print("[!] Simulated malware started. PID:", os.getpid())
print("[!] This process should be detected by your EDR.")

try:
    while True:
        time.sleep(1)
except KeyboardInterrupt:
    print("[x] Simulated malware terminated.")
